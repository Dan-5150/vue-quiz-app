import{d as A,p as B,k as v,S as u,A as F,i as N,l as I,a as n,f as p,w as d,b as f,y as M,o,e as t,s as O,v as T,n as D,c as k,F as b,g,C as Q,r as L,j,t as E,_ as G}from"./index-Q211Odm7.js";const R={class:"form-control age-input"},$=["value"],H={class:"form-control"},J=["value"],K={class:"form-control"},P=A({__name:"NewUserForm",setup(W){const r=N(),S=j(),s=B({value:"",isValid:!0}),V=v([{name:"Defined Order",value:u.definedOrder},{name:"Alphabetical Order",value:u.alphabeticalOrder},{name:"Question Type Order",value:u.questionTypeOrder}]),i=v(u.definedOrder),m=v(!1),y=F(()=>r.state.quiz.user);I(()=>{r.commit("quiz/clearUserInfo")});const w=()=>{r.commit("quiz/clearUserInfo")},_=()=>{s.value===""&&(s.isValid=!1)},x=async()=>{if(_(),!!s.isValid){m.value=!0;try{await r.dispatch("quiz/fetchUserAge",{name:s.value})}catch(l){console.log(l.message||"Something went wrong!")}m.value=!1}},U=l=>{l.value&&(l.isValid=!0)},q=()=>{_(),r.commit("quiz/updateSortOrder",i.value),r.dispatch("quiz/sortQuestions",i.value),S.replace("/quiz-setup")};return(l,e)=>{const z=f("base-loading-spinner"),c=f("base-button"),C=f("base-card");return o(),n("form",{onSubmit:M(q,["prevent"])},[p(C,{classes:"card-sm text-left"},{default:d(()=>[e[9]||(e[9]=t("h2",null,"User Info",-1)),t("div",{class:D(["form-control",{invalid:!s.isValid}])},[e[3]||(e[3]=t("label",{for:"name"},"Name",-1)),O(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=a=>s.value=a),type:"text",onBlur:e[1]||(e[1]=a=>U(s))},null,544),[[T,s.value,void 0,{trim:!0}]])],2),t("div",R,[e[6]||(e[6]=t("label",{for:"name"},"Age",-1)),m.value?(o(),k(z,{key:0})):(o(),n(b,{key:1},[y.value.age?(o(),n(b,{key:0},[t("input",{id:"name",value:y.value.age,type:"text",disabled:""},null,8,$),p(c,{type:"button",classes:"small red",onClick:w},{default:d(()=>[...e[4]||(e[4]=[g(" Clear ",-1)])]),_:1})],64)):(o(),k(c,{key:1,type:"button",classes:"small",onClick:x},{default:d(()=>[...e[5]||(e[5]=[g(" Get Age ",-1)])]),_:1}))],64))]),t("div",H,[e[7]||(e[7]=t("label",{for:"sort-order"},"Question Sort Order",-1)),O(t("select",{id:"sort-order","onUpdate:modelValue":e[2]||(e[2]=a=>i.value=a),name:"sort-order"},[(o(!0),n(b,null,L(V.value,a=>(o(),n("option",{key:a.value,value:a.value},E(a.name),9,J))),128))],512),[[Q,i.value]])]),t("div",K,[p(c,{type:"submit"},{default:d(()=>[...e[8]||(e[8]=[g(" Submit ",-1)])]),_:1})])]),_:1})],32)}}}),Y=G(P,[["__scopeId","data-v-434724b2"]]);export{Y as default};
