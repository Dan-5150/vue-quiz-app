import{d as C,a as i,o as u,e as r,t as x,F as I,r as N,_ as S,i as b,m as R,v as T,D as V,f,b as w,w as _,g as k,y as Q,j as L,l as y,B as M,c as h,u as j,n as z,h as D}from"./index-DXzsqR7n.js";import{u as F}from"./quiz-B4Rdr_mA.js";import{Q as W}from"./QuestionType-B2p6nuUK.js";import"./questions-Bzw07epI.js";const K={class:"form-control"},O=["onClick"],A=C({__name:"QuizMultipleChoice",props:{question:{type:Object,required:!0}},emits:["choice-select"],setup(c,{emit:a}){const v=a,n=o=>{v("choice-select",{correct:o.correct,answer:o.answer})};return(o,t)=>(u(),i("div",K,[r("h3",null,x(c.question.question),1),r("ol",null,[(u(!0),i(I,null,N(c.question.choices,(e,d)=>(u(),i("li",{key:e.answer,onClick:m=>n(e)},x(d+1)+". "+x(e.answer),9,O))),128))])]))}}),E=S(A,[["__scopeId","data-v-ba11b971"]]),U={class:"form-control"},G={class:"form-control"},H=C({__name:"QuizWritten",props:{question:{type:Object,required:!0}},emits:["written-select"],setup(c,{emit:a}){const v=a,n=b(""),o=()=>{v("written-select",n.value)};return(t,e)=>{const d=w("base-button");return u(),i("div",null,[r("div",U,[r("h3",null,x(c.question.question),1),R(r("textarea",{id:"writtenResponse","onUpdate:modelValue":e[0]||(e[0]=m=>n.value=m),name:"writtenResponse",rows:"4",onKeyup:V(o,["enter"])},null,544),[[T,n.value]])]),r("div",G,[f(d,{classes:"small",disabled:!n.value,onClick:o},{default:_(()=>[...e[1]||(e[1]=[k(" Submit ",-1)])]),_:1},8,["disabled"])])])}}}),J={key:0,class:"form-control"},P={key:1,class:"form-control"},X=C({__name:"QuizQuestion",props:{id:{type:String,required:!0}},setup(c){const a=F(),v=D(),n=c,o=b(),t=b(null),e=Q(()=>a.sortedQuestions),d=Q(()=>t.value?"correct":t.value?"":"incorrect"),m=Q(()=>{const l=e.value.findIndex(p=>p.id===n.id);return e.value.length-1===l});L(()=>{o.value=e.value.find(l=>l.id===n.id)});const $=l=>{l.correct?t.value=!0:t.value=!1,a.addQuizResult({isCorrect:t.value,response:l.answer,index:e.value.findIndex(s=>s.id===n.id)})},B=l=>{l.trim().toLowerCase()===o.value?.answer?.trim().toLowerCase()?t.value=!0:t.value=!1,a.addQuizResult({isCorrect:t.value,response:l,index:e.value.findIndex(s=>s.id===n.id)})},g=()=>{const l=e.value.findIndex(p=>p.id===n.id),s=e.value[l+1];v.replace(`/quiz/${s.id}`)};return(l,s)=>{const p=w("base-card"),q=w("base-button");return u(),i("section",null,[f(p,{classes:"card-sm text-left"},{default:_(()=>[f(M,{name:"fade",mode:"out-in"},{default:_(()=>[t.value===null?(u(),i(I,{key:0},[o.value?.questionType===j(W).multipleChoice?(u(),h(E,{key:0,question:o.value,onChoiceSelect:$},null,8,["question"])):(u(),h(H,{key:1,question:o.value,onWrittenSelect:B},null,8,["question"]))],64)):t.value?(u(),i("div",{key:1,class:z(["feedback",d.value])},[...s[0]||(s[0]=[r("h2",null,"Correct!",-1),r("p",null,"Well done!",-1)])],2)):t.value?y("",!0):(u(),i("div",{key:2,class:z(["feedback",d.value])},[...s[1]||(s[1]=[r("h2",null,"Incorrect!",-1),r("p",null,"Better luck next time...",-1)])],2))]),_:1})]),_:1}),t.value!==null&&!m.value?(u(),i("div",J,[f(q,{onClick:g},{default:_(()=>[...s[2]||(s[2]=[k(" Next Question ",-1)])]),_:1})])):t.value!==null&&m.value?(u(),i("div",P,[f(q,{link:!0,to:"/quiz-finish"},{default:_(()=>[...s[3]||(s[3]=[k(" Finish Quiz ",-1)])]),_:1})])):y("",!0)])}}}),se=S(X,[["__scopeId","data-v-c579863f"]]);export{se as default};
